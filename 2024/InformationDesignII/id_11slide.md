---
marp: true
theme: default
size: 16:9
paginate: true
headingDivider: 2
header: 情報デザイン演習I 11. Wordpress入門
footer: ""
---

# 情報デザイン演習I 11. Wordpress入門<!-- omit in toc -->
> Wordpressの導入、及び投稿・固定ページについて学修する。

---
1. [今日の内容](#今日の内容)
   1. [CMS](#cms)
   2. [Wordpress](#wordpress)
2. [インターネット基礎知識](#インターネット基礎知識)
3. [Wordpressの基本的な考え方](#wordpressの基本的な考え方)
   1. [ダッシュボード](#ダッシュボード)
   2. [権限](#権限)
   3. [設定](#設定)
   4. [投稿・固定ページ](#投稿固定ページ)
   5. [メニュー](#メニュー)
   6. [編集](#編集)
   7. [テーマ](#テーマ)
   8. [ウィジェット](#ウィジェット)
   9. [プラグイン](#プラグイン)


# 前回のおさらい<!-- omit in toc -->

---
### 前回のおさらい

- Let's Coding!
- Let's Coding! Part2

までやると、
- HTML5Outlineを意識してHTML作成
- CSS Grid, Flexboxを利用して大まかなデザイン
- それぞれの内容をHTML,CSSで作成

の流れでWebサイトができそうなことは理解できたかと思います。

---
### CSS
正解は一つではありません。
上手くなる秘訣としては、
- とあるホームページを見て自分で作ってみる
- ソースコードを見てやり方を盗む

となります。
また、CSSはマジで進化が激しいので、時期によって書き方がどんどん変わっていくものだと思ってください。


# 今日の内容

## CMS

---
### これまでの作成方法
これまで、HTML ファイルを作成することでホームページを作成してきましたが、現在、世の中的にはなかなかこの方法は取られていません。

1ページずつ作成するとめんどくさいですものね w

教科書では4ページ作りましたが、メニューのデザインを変えたくなったら、4箇所修正しなくてはなります。

そこで CMS という仕組みが考えられました。

---
### CMS
「Contents Management System」の略で。コンテンツ管理システム、 と訳すことができるでしょう。

ブログやtwitterを書く時に、HTML を人があまり意識しないで済むのと同じように、ホームページを管理できたらいいよね、という考え方です。

---
### CMS のシェア
いろいろなものがありますが、シェアを確認してみましょう。
「CMS シェア 2024」でググってみましょう。

ダントツでWordpressが利用されていることになります。
残りの5回でこれを利用できる様になりましょう。

---
### Wordpressはオワコン？
ここまでシェアを得ているのに、一部ではエンジニアから
> Wordpressはオワコン？

という意見があります。
[なぜWordPressはオワコンなのか？](https://doku-pro.com/wordpress_endcontents/)

ですが、結論としては
- エンジニアを目指す人にとっては技術的にはオワコン
- ビジネスとしてはまだまだ現役

ということになりそうですので、Wordpressやっていきましょう。

## Wordpress

---
### サーバ環境
Webページを作成するだけではなく、公開するには
- Webサーバ

が必要となります。Apache, nginxが有名です。

CMSではそれに加えて、データを保存するための
- DB(データベース)サーバ

が必要となります。古くはMySQL, PostgreSQLが有名ですが、最近ではMySQLの派生という形でMariaDBというものが勢いがあります。名称ぐらい知っておきましょう。

---
### LAMP
サーバを構築するのに
- OS
- Webサーバ
- DBサーバ
- プログラミング言語

があれば一通りのことができ

- Linux
- Apache
- MySQL
- PHP・Perl・Python

をまとめて**LAMP**というソフトウェア群としてまとめて呼ぶことがあります。

---
### MAMP
**LAMP**の影響を受けて、Mac用に開発されたものを

- MAMP

と呼び、それをWindows用に移植したものを

- MAMP for Windows

と呼びます。今回はこれを使っていこうと思います。

他にXAMPPとか色々あります。

---
### PHP
PHPはサーバ上のプログラミング言語で、HTMLと非常に親和性が高いです。

PHPはPHP: Hypertext Preprocessorの略で、どのくらい親和性が高いかというと、

- test.html

を、

- test.php

とすると、それは既にphpファイルとなるレベルです。


---
### Wordpressインストール手順

1. MAMPのダウンロード・インストール
2. Wordpressのダウンロード
3. Webサーバ上にwordpressを設置
4. データベースの作成
5. Wordpressのインストール

となります。一つづつやっていきましょう。

---
### MAMPのダウンロード
[MAMP](https://www.mamp.info/)
にアクセスしましょう。
OSによって、
- https://www.mamp.info/en/mac/
- https://www.mamp.info/en/windows/

に飛ばされると思います。

FreeDownloadをクリックしてダウンロードしてください。
MacはIntel, M1を選びましょう。

インストールしましょう。終わると、MAMP PROもインストールされますが、捨てましょう。

---
### wordpressのダウンロード
> https://wordpress.com/ja/

はサーバ付きの別サービスです。こちらは有料になります。

- https://ja.wordpress.org/

から「WordPressを入手」「Wordpress6.7.1をダウンロード」をクリックしましょう。

---
### Webサーバ上にwordpressを設置
- アプリケーションフォルダのMAMPフォルダの中のMAMP.appを開く(MAMP PROは捨ててOK)
- Preferences - Server - Open in Finder
- ダウンロードしたwordpressを解凍してこの中に移動(htdocsの中にwordpressフォルダを入れる)
- PreferencesはOKで閉じる
- Startで「Welcome to MAMP」が表示されるまで待つ
- 「My Website」をクリックして、「http://localhost:8888/wordpress/」になるようにURLを追記してリターン
- 「WordPressへようこそ。始める前に、以下の項目を知っておく必要があります。」が表示されればここまでOK

5つの項目知ってませんね。準備しましょう。

---
### DB情報の確認
- 「Welcom to MAMP」に戻って、MySQLの項目を見てみましょう。
- Host: localhost
- Port: 8889
- Username: root
- Password: root

これをメモっておきましょう。
- データベースのユーザー名
- データベースのパスワード
- データベースホスト

までゲットしました。

---
### DBの作成
- ToolsからphpMyAdmin
- データベースタブをクリック
- データベース名にwordpress
- utf8_general_ciとなっていることを確認
- 作成

これでデータベース名がwordpressとなりました。

---
### Wordpressのインストール
- wordpressの画面に戻って、5番目以外の情報を持っていることを確認
- 「さあ、始めましょう」
- データベース名・ユーザ名・パスワード・データベースのホスト名を入力して「送信」
- あとは必要情報を適宜入力していきましょう。ID,Password忘れないように！
- 検索エンジンがサイトをインデックスしないようにする、で問題ないです。
- ログイン画面が出れば成功です。
- 登録したID,Passwordでログインしてみましょう。

---
### インストール完了
この工程は通常のレンタルサーバではもっと簡単にできるところもありますが、
- DBの作成が必要
- WordpressがDBを認識することが必要

を覚えておきましょう。

---
### 最初の設定
設定 - 一般から
- サイトの言語：日本語
- タイムゾーン：UTC+9

に設定しましょう。

# インターネット基礎知識

---
### IPアドレス
サーバ(実際はインターネットにアクセスする全てのコンピュータ)には全世界のインターネットに接続されているコンピュータから、「どのコンピュータか？」を示すために**IPアドレス**という住所のようなものが割り振られています。

IPアドレスは
> 23.43.249.57

のように0-255の数字を4つまとめた形で表されます。(IPv4)

現在、これでは足りなくなりそう、ということでIPv6への切り替えが行われています。

---
### DNS
IPアドレスは数字のため非常にわかりずらいため、
> www.thu.ac.jp

のような形式でブックマークのようなものを使うことができます。このことを
> DNS(Domain Name System)

と言います。

---
### localhost
開発などで利用できるように「localhost」は自分自身を指す、という風に決まっています。

これは
- Macなら /etc/hosts
- Winなら C:\Windows\System32\drivers\etc\hosts

にて定義されています。


---
### ポート
一つのコンピュータではさまざまなサービスを提供することができるように**ポート**という入口のようなものを用意しています。

MAMP - Prefereces- Portsを見てみましょう。

MAMPでは標準で
- Webサーバ 8888
- DBサーバ 8889

と設定されています。

---
### MAMPのサーバへのアクセス方法
これらのことから、MAMPのページには

> http://localhost:8888

とすることでアクセスすることができます。

---
### 一般的には
httpは80番、httpsは443番を利用することが決まっていますから

- http://www.thu.ac.jp
- http://www.thu.ac.jp:80
- https://www.thu.ac.jp
- https://www.thu.ac.jp:443

はそれぞれ同じ意味です。

---
### httpとhttps
httpは
> HyperTextTransferProtocol

httpsは
> HyperTextTransferProtocolSecure

であり、暗号化されています。現在は、httpsが推奨されているため、最終的にどちらにアクセスしても

- https://www.thu.ac.jp:443
に接続されます(ほぼ全てのサーバがこのように設定されています)。

---
### MAMPはhttp
開発環境のため、暗号化されていないで使うため

- http://localhost:8888

を利用します。

これより詳しい話は「インターネット基礎理論」にて学んでください。




# Wordpressの基本的な考え方

---
### CMSとは
コンテンツ管理システムでしたね。
実際に、どのように管理するのかみていきましょう。

## ダッシュボード

---
### ダッシュボード
{サイトのURL}/wp-admin
とすることで、ログインページが出てきて、ログインすることでダッシュボードに入ることができます。

Wordpressではほぼ全ての操作をこのダッシュボードから行います。

サイトを表示するには、左上の家のアイコンから「サイト表示」とします。

## 権限

---
### 権限とは
例えば、 
- 記事を書く人

がいて、この人が、大事な機能にアクセスできると困りますね。例えば、 削除、とか。これを、「権限」と呼びます。

ユーザに対して設定されます。

---
### 権限の種類
- 管理者:WordPress の全ての操作が可能。
- 編集者:コメントやリンクの管理などコンテンツに関する全ての操作が可能。
- 投稿者:記事の投稿や編集、公開が可能。
- 寄稿者:記事の下書きと編集のみ可能。
- 購読者:閲覧のみ可能。会員制サイトを作りたい時などに使う可能性がある。

インストールしたユーザは管理者となります。
(今回この機能は明示的には利用しません)

---
### 権限でできること

[5種類の権限がそれぞれできること、カスタム方法を解説](https://www.conoha.jp/lets-wp/wp-role/)

## 設定

---
### 設定 - 一般
#### サイトのタイトル・キャッチフレーズ
タイトルタグや、ヘッダー・フッター等で利用されます。
SEOを考える上で大事です。

#### サイトの言語・タイムゾーン
ここはインストール時に必ず設定しましょう。

#### 日付形式・時刻形式・週の始まり
投稿日の表示や、カレンダーにて利用されます。

---
### SEO
Search Engine Optimizationの略で、サーチエンジン最適化です。

googleのロボットに対して、正しくページの内容を伝える必要があります。
そうすることで、検索ランキングが変わります。

ページが存在しても、検索ランキングに引っかからないと意味がないですからね。

Wordpressでは「All in One SEO」というプラグインでSEO対策をしたりします。

---
### 設定 - 表示設定
#### ホームページの設定
トップページのことです。ここに何を表示するかを指定できます。

いわゆるブログであれば、デフォルトの投稿で構いませんが、通常のサイト作成時には固定ページ(後述)を利用します。

---
### 設定 - パーマリンク
URLの表記方法を決めます。

googleから以下のような情報が出ています。
[シンプルな URL 構造を維持する](https://developers.google.com/search/docs/advanced/guidelines/url-structure?hl=ja&visit_id=637470552974991156-766032165&rd=1)

> サイトの URL 構造はできる限りシンプルにします。論理的かつ人間が理解できる方法で URL を構成できるよう、コンテンツを分類します。

ですので、「投稿名」を選択すると良いでしょう。

記事を書くときに「スラッグ」という部分はデフォルトでタイトルと同じものが入りますが、英語にしておいた方が良いでしょう。

[パーマリンクとは？WordPressでのおすすめ設定方法も解説！決め方・変更も！](https://www.xserver.ne.jp/blog/wordpress-permalink/)

---
### パーマリンク
記事のURLは、検索エンジンにとっては、情報の住所みたいなものですから、非常に大事です。

そのため、この設定はインストール時の初期設定として設定をし、その後は変えないようにしましょう。

ここを変更すると、一回リセットするようなものとなります。

---
### 設定 - プライバシーポリシー
[個人情報保護法（正確には「個人情報の保護に関する法律」](https://elaws.e-gov.go.jp/document?lawid=415AC0000000057)
により、プライバシーポリシーの作成とユーザーへの通知または公表することが定められているため、プライバシーポリシーの掲載は必要です。

今回は、ユーザの個人情報を集めるようなサイトを作成する予定はないので必須ではありません。

ここで、雛形を作成する機能がある、ということを知っておきましょう。


## 投稿・固定ページ

---
### Wordpress でのページの考え方
二通りのページが基本的にはあります。

#### 投稿
ブログのように、同じような内容で何回もページを作成するための機能

#### 固定ページ
「お問い合わせページ」「自己紹介」の様に、1ページで成立しているページを作成するための機能

ニュースは投稿ですね。ブログも投稿ですね。

---
### カテゴリー
投稿内容は、例えば
- 情報デザインのニュースリリース
- 映像デザインのニュースリリース
などの様に複数の投稿タイプがあることがあります。これを**カテゴリー**という考え方で分類することが可能となります。

---
### 試してみよう
「投稿 - カテゴリー」にて仮に
- カテゴリー1 (スラッグ名：cat1)
- カテゴリー2 (スラッグ名：cat2)

として作成してみましょう。

---
### 投稿してみよう
「投稿 - 新規追加」または「投稿 - 投稿一覧」から新規追加をクリックしましょう。

とりあえず、以下のようにしてみましょう。
- 「タイトルを追加」にタイトル
- 「プロックを選択するには「/」を入力」に適当な文章
- 右の「カテゴリー」にチェックを入れる
- 公開

公開すると「パーマリンク」でURLスラッグが変更できます。英語にしておきましょう。

「サイト表示」によって、投稿が反映されていることを確認してください。

---
### 固定ページ
「固定ページ - 新規追加」または「固定ページ - 投稿一覧」から新規追加をクリックしましょう。

同様に追加してみましょう。
固定ページではURLスラッグを最初から指定できますね。

公開しても...どこにも出てきませんね...

---
### このテストからわかること
この挙動を見ると、
- 投稿されたものは自動的にトップページに掲載される
- 固定ページはページとして存在するが、意図的にリンクを貼らないとトップページに載らない

ということになります。

固定ページにいくにはどうすれば良いのでしょうか？

## メニュー

---
### (ひょっとして...外観 - メニューがなければ)
- Twenty Twenty-Four
- Twenty Twenty-Five

はちょっと特殊なので、Twenty Twenty-Threeで行こうかな...

---
### 外観 - メニュー
Wordpressではメニューを複数管理することができます。

- まずはメニューを「MainMenu」として作成しましょう
- 左の項目からメニューに適当に追加しましょう
- ドラッグアンドドロップで入れ替えできます。
- サブメニューにすることもできます。少し右にずらしてみましょう。
- メニュー設定で「メニューの位置」をメイン(ヘッダーかな)に設定しましょう。
- 保存しましょう。
- 見てみましょう。

---
### 固定ページ・投稿とメニューの関係
このように、固定ページは作成しただけではうまく機能せず、メニューを利用する必要があります。

カテゴリをメニューに登録すると、カテゴリに投稿された記事の一覧ページを表示することができます。

---
### メニューについて
- メニューは複数作成することができる
- 作成したメニューをどこに利用するか設定できる

メニューを表示する位置は、Wordpressが標準で決めているわけではなく、後述するテーマによって場所・メニューをおける数が決まっています。

---
### topページ
- 固定ページでtoppageとして作成しましょう
- 設定 - 表示設定でホームページの設定を「固定ページ」、「ホームページ」で「toppage」を選択しよう
- サーバを見てみよう

こうすることで、toppageがサイトの顔となります。

## 編集

---
### Wordpressの編集画面
Ver5.0からGutenbergというエディタを利用することが前提となっています。

ブロックエディタとも呼ばれ、
- 配置するブロックを定義
- ブロックにパーツをドラッグ&ドロップで追加

とすることで投稿・固定ページを作成していきます。

ちょっと覗いてみましょう。
[WordPress5.0の新エディタ「Gutenberg（グーテンベルグ）」の使い方](https://bazubu.com/how-to-use-gutenberg-36143.html)

---
### V6.0の新機能
FSEというのに対応しましたが、まだ公開されて日が浅いため、とりあえず触れないようにしておきます。

> FSEはFSE対応のテーマと一緒でないと利用できない


## テーマ

---
### テーマとは
Wordpressのデザインや構造を決定づけるものとなります。

デフォルトではWordpress6.0では
- Twenty Twenty
- Twenty Twenty-One
- Twenty Twenty-Two

等が利用できます。これは、Wordpressが公式に配布しているテーマとなります。

それぞれ、有効化を押して、デザインが変わることを確認しましょう。


---
### 新規追加
外観 - テーマ - 新規追加

とすると、たくさん出てきますね。

インストールを押すと利用できます。便利ですね。

---
### Wordpressあるある...
プレビューで見えた状態で「あ、これがいい！」と思っても、インストールしてみると、「あれ、全然違う...」と思うことがあります。

なぜでしょうか？

- テーマはデザインの基本を定義している
- コンテンツがなければ反映されない

ということです。

---
### テーマの正体
- CSSによるデザイン
- phpによってDBの情報をどうHTMLとして構築するか

を定義したものです。

Wordpressでは適切なテーマを選ぶことが非常に大事になってきます。

---
### php?
PHPとは(PHP: Hypertext Preprocessor)の略で、HTMLと非常に親和性の高いプログラミング言語となります。

DBにタイトルや本文の情報が蓄えられていますが、それをどのように
DIVタグなどでHTML化するか、ということをPHPでコントロールします。

---
### Wixと何が違うの？
WordpressとWix、近いと思います。

何が違うかというと、テーマのファイルにアクセスできるため、CSS,PHPをさわれば、全面的なコントロールが可能となります。

---
### テーマはどこに？
MAMPで
- Preferences - Server - Open in Finder
- wp-content - themes

の中にテーマのフォルダが存在しています。

これらのファイルをカスタマイズすることで、全てのコントロールが可能です。

## ウィジェット

---
### ウィジェットとは
サイドバーやフッターにさまざまなパーツを設置できます。
- カレンダー
- 検索

などいろいろな機能があります。
利用するかどうかはテーマによって決められています。

## プラグイン

---
### プラグインとは
Wordpressの機能を簡単に拡張する機能となります。

入れすぎると動作が重くなったりします。
導入に関しては慎重に行いましょう。

---
### プラグインの動向
「wordpress プラグイン 2024」

でググってみましょう。


## 終わり<!-- omit in toc -->
とりあえずWordpressで何ができるか、について説明してきました。(今日一回で最後までたどり着かないとも思うけど...)

触って壊れたらインストールし直せば良いだけですから、いろいろ触ってみましょう。




