---
marp: true
theme: default
size: 16:9
paginate: true
headingDivider: 2
header: メディア表現III 8.構造
footer: ""
---

# メディア表現III<!-- omit in toc -->
> 8. 構造

# 目次<!-- omit in toc -->
1. [構造](#構造)
   1. [ネスト/プリコンポーズ](#ネストプリコンポーズ)
   2. [ネスト(Premiere Pro)](#ネストpremiere-pro)
   3. [プリコンポーズ(AfterEffects)](#プリコンポーズaftereffects)
   4. [調整レイヤー](#調整レイヤー)
   5. [トラックマット](#トラックマット)
   6. [親子づけ](#親子づけ)
   7. [トラックマットと親子づけの例](#トラックマットと親子づけの例)

# 前回のおさらい<!-- omit in toc -->

- AfterEffectsのイージング・グラフエディター
- プラグイン紹介(Premiere Composer/Animation Composer)
- モーショングラフィクステンプレート


# 構造

## ネスト/プリコンポーズ

---
### PremierePro/AfterEffectsでの構造
PremiereProではシーケンス、AfterEffectsではコンポジションをベースに編集を行いますが、
- ネスト
- プリコンポーズ
と用語が違うものの、入れ子状態にすることができます。

入れ子とはあるモノの中にそれと同じモノを入れた構造です。

## ネスト(Premiere Pro)

---
### ネスト(PremierePro)の方法
シーケンスの中に作成済みのシーケンスを配置が一番楽ですが

1. 一つにまとめたいクリップを選択
2. 右クリックして、ネストを選択
3. 任意の名前を入力

- ネストの中を編集したい場合にはダブルクリック


---
### やってみます(ここであまり時間とられたくない)
- サンプルから6つくらい選んでシーケンス作成
- 初めの3つ・終わりの3つを選択してそれぞれネスト
- ネストしたクリップの中を減らしたり、増やしたり...
- シーケンスを新たに作成して、その中に他のシーケンスを入れてみる

便利なのですが、ネストしたシーケンスの尺が変わるとちょっと厄介ですね。

---
### おすすめのネストの使い方
#### シーンごとをまとめる
- シーンのシーケンスを作成してそこで編集
- シーンの編集が終わったら、作品全体のシーケンスに結合

#### ワープスタビライザーを利用する時
手ブレを補正するワープスタビライザーという機能がありますが、これを利用すると、「速度・デュレーション」をいじれなくなります。この場合にはネスト化して利用します。

#### レンダリングの負荷を下げる
ネストしたシーケンスをレンダリングしておくことで、コンピュータが何度も計算する負荷を低減させることもできます。


---
### ネストを元に戻したい場合
- コマンド+Zで戻る
- ネストの中をコピペ
- 「ネストしてまたは個別のクリップとして挿入または上書き」をオフにしてドラッグ&ドロップ

---
### 動画説明
https://www.youtube.com/watch?v=EKCsuD9cSSk

## プリコンポーズ(AfterEffects)

---
### プリコンポーズ(AfterEffects)の方法
コンポジションの中に作成済みのコンポジションを配置が一番楽ですが

1. 一つにまとめたいレイヤーを選択
2. 右クリックして、プリコンポーズを選択
3. 任意の名前を入力

- プリコンポーズの中を編集したい場合にはダブルクリック
- 元に戻したい場合にはネストされたシーケンスからクリップをコピペ

プリコンポーズを使わなくても、作成済みのコンポジションを新たなコンポジションにレイヤーとして貼ってもOKです。

---
### ネスト・プリコンポーズのメリット
- タイムライン/コンポジションを整理できる
- 一度に複数のクリップにエフェクトをかけることができる

---
### プリコンポーズのメリット
- 時間軸を複数持つことができる

1年生の時に、鳥を羽ばたかせてから、位置を変えることで鳥を飛ばしましたね。


---
### AfterEffectsネストの実際の使い方
[バカ・アフター](http://baaaf.com/)というとんでもないページを作成しているクリエイターがいます。
AfterEffectsを極めたい人は是非参考にしてください。
ただし、とんでもなくコンピュータのリソースを使いますので、レンダリングに相当時間がかかります。

- 基本標準エフェクトのみを利用
- ソースコードを公開

一つソースコードをダウンロードして見ましょう。

---
### フローチャート
バカ・アフターの様に複雑になると、コンポジションの関係がわからなくなります。
それを確認するために「フローチャート」という機能があります。

- プロジェクトウィンドウの「プロジェクトフローチャート」アイコンをクリック
- 「+」をクリック

アニメーションの全貌を確認することができます。


## 調整レイヤー

---
### 調整レイヤーとは？
調整レイヤーの下にあるクリップ全てに同じエフェクトを一括で適用することができます。

ある意味、ネスト化より気楽に利用できます。

ですが、調整レイヤーの下にあるクリップ全てにエフェクトがかかってしまうので、
下のレイヤーで、かけたくないものがある場合には利用できません。ネスト化を利用しましょう。

基本的な考え方は、Photoshopの調整レイヤーと同じになります。

## トラックマット

---
### マスクとは？
Photoshopではマスクを利用することで、画像の一部分を表示することができました。

これに相当するものが
PremiereProでは
- マスク

そして、マスクトラッキング(映像のオブジェクトに追従する)があります。マスクトラッキングについては13回目の予定となります。


AfterEffectsでは
- マスク
- トラックマット

になります。

---
### トラックマットとは？
映像の一部分を表示するという意味ではマスクと同じです。

あるレイヤーの映像情報の
- 透明度
- 輝度

のどちらかの情報を使って、マスクをかけていきます。レイヤーのため、動きのあるマスクを作成することが可能となります。

---
### どう使うの？
マスクをかけたいレイヤーの上にマスクとなるレイヤーを配置します。

---
### やってみよう
- 新規コンポジション作成
- 新規平面(レッド)レイヤー追加
- HELLOとテキスト入力(フォント大きめに)
- レッド平面のトラックマットをアルファマットに
- 同じくアルファマット反転も見てみよう。

---
### 透明グリッドの説明
コンポジションは最初、背景色がついている様に見えますが、それは仮の背景です。
「透明グリッド」をクリックすることで、実際に色がついているのかどうかを確認することができます。

## 親子づけ

---
### 親子づけとは？
レイヤーに親と子の関係をつけることができます。

- 親のレイヤーが動いた場合は、子は同じ動きをします
- ただし、子が単独で移動した場合は親は子の動きに影響されません。
- 同じ時間軸で動きがコピーされます。

---
### 引き続きやってみよう
- 新規シェイプレイヤーを一番上に追加
- スターツールで星を描く
- シェイプレイヤー・テキストレイヤーの「親とリンク」をレッド平面に
- 選択ツールでレッド平面を動かすと全てついてくることを確認しよう。

## トラックマットと親子づけの例

---
### やってみよう
- 新規コンポジション作成
- テキスト入力
- シェイプレイヤー作成(White Line)
- テキストの上に線を描画
- シェイプレイヤー作成(Matt)
- テキストの上に、長方形を描画
- White Lineをレイヤーの一番上に
- Mattの親をWhite Lineに
- テキストにトラックマット設定
- White Lineをテキストの下まで移動すると文字が見えることを確認
- フローチャートを確認してみよう

---
### 動画説明
https://www.youtube.com/watch?v=FHWOv84XuWg

# まとめ<!-- omit in TOC -->
レイヤーの構造・コンポジションの構造を理解することでさまざまな表現ができる様になります。いろいろチャレンジしていきましょう。


