# メディア表現V 3. モデリング

[メディア表現V TOPに戻る](./index.md)

---
## 目次

- [メディア表現V 3. モデリング](#メディア表現v-3-モデリング)
  - [目次](#目次)
  - [モデリングの方法](#モデリングの方法)
  - [ポリゴンモデリング](#ポリゴンモデリング)
  - [やってみようPart1(ワイングラス)](#やってみようpart1ワイングラス)
    - [下準備](#下準備)
    - [ワイングラスを作ろう(外側)](#ワイングラスを作ろう外側)
    - [ワイングラスを作ろう(内側)](#ワイングラスを作ろう内側)
    - [滑らかにしよう](#滑らかにしよう)
    - [台を作ってみよう](#台を作ってみよう)
    - [ワイングラス・台に材質を設定しよう](#ワイングラス台に材質を設定しよう)
    - [HDRIを設定](#hdriを設定)
    - [レンダリングしてみよう](#レンダリングしてみよう)
    - [参考:色んな方法があるモデリング](#参考色んな方法があるモデリング)
  - [やってみようPart2](#やってみようpart2)
  - [やってみようPart3](#やってみようpart3)
  - [好きな形を作るには？](#好きな形を作るには)
  - [簡単に人もどきを作りながら慣れてみよう](#簡単に人もどきを作りながら慣れてみよう)
  - [(おまけ)グラスにワインを注ごう](#おまけグラスにワインを注ごう)
  - [Low Poly Character](#low-poly-character)
  - [気をつけること](#気をつけること)
  - [Monster Mash](#monster-mash)

---


## モデリングの方法
- 大きく分けるとEdit ModeとSculpt Modeがある。
- Edit Modeは3つ以上の点で作られる面を組み合わせて形状を作る
- Sculptは粘土細工・彫刻のように、盛り上げたり削ったりして形状を作る
- この演習ではSculptは扱わない

## ポリゴンモデリング
- ポリゴン(多角形)の集まりをメッシュと呼ぶ
- 多角形は頂点・辺・面から成り立っている

- 頂点・辺・面(1,2,3でモード切り替え)の移動・回転・スケールはG,R,S
- E(Exlude)で押し出し
- I(Inset)で面の差し込み
- Ctrl-Rでループカット
- Ctrl-Bでベベル
- Option-右クリックでループ選択

- 右クリックでsubdivideでポリゴンを細分化できる
- ModifierのSubDivision Surfaceで、非破壊的に滑らかにできる
- 滑らかに見せるのは、ObjectモードでShade Smooth

---
---

## やってみようPart1(ワイングラス)
### 下準備

- Blenderを起動して、立方体を削除(X)
- Edit - preferences - Add ons
- imagesを検索
- Import-Exmport Import images as Planesにチェック

![ワイングラス](https://jp.images-monotaro.com/Monotaro3/pi/full/mono00594764-141008-02.jpg)

- 上の写真をBlenderフォルダにwineglass.jpgとして保存しておこう
- File-SaveでYYYYMMDDt_mr5_03_01.blend(保存は随時)
- Import - Images as Planesで写真を選択
- マテリアルプレビューモードに
- S 10で10倍に, G-Xで少し後ろに、G-Zで少し上にあげてZ=0のところにグラスの下をあわせる

### ワイングラスを作ろう(外側)

- Shift+AでCircle
- 円を選択して、TABキーでEditモードに
- Fで面をつくる
- 右上のXを押して、X軸側からにする
- Sで、グラスの足の大きさにあわせる
- Eで少し上に押し出し(Z軸方向)
- Eでさらに上に押し出し(Z軸方向)
- Sでサイズをあわせる
- これを繰り返して、グラスの外側をつくる

### ワイングラスを作ろう(内側)
- Iで内側に狭めよう
- Eで下に押し出して(Z軸方向)
- Sでグラスの内側にあうようにスケール
- これを繰り返して、グラスの内側をつくる

### 滑らかにしよう
- TABキーでObjectモードに
- 右クリックでShade Smooth
- もう少し滑らかにしたいので、モディファイアからSubdivisionSurface
- 画像は表示を消しておこう


### 台を作ってみよう
- Shift+AでPlane
- S 10 で10倍に
- Tabで編集モードに入り、2で辺編集モード
- 奥の辺を選んで、E Z で押し出し
- 交差する辺を選んでCtrl-Bでベベル スクロールでカーブに
- Tabでオブジェクトモードに戻り、右クリック Shade smoothで滑らかに

### ワイングラス・台に材質を設定しよう
[参考ページ](https://kemarii.com/blog/cg/blender-glass-material/)

- MaterialPropertiesPropertiesからNew
- プリンシブルBSDFの設定を以下のように

| 項目                         | 値               |
| ---------------------------- | ---------------- |
| Roughness（粗さ）            | 0                |
| Transmission（伝播）         | 1.0              |
| IOR                          | 1.57             |
| Alpha（アルファ）            | 0.6              |
| Blend Mode（ブレンドモード） | アルファハッシュ |

レンダープロパティのScreenSpaceReflectionsにチェックを入れる

- 台は適当に色をつけてみよう

### HDRIを設定
- ガラスはまわりの環境光によってガラスに見えるので、HDRI(High Dynamic Range Image)を環境光として設定しよう。

- [Poly Haven](https://polyhaven.com/){:target="_blank"}から適当にダウンロードして、Blenderの中に「HDRI」フォルダを作成してそこに保存しておこう。
- World PropertiesのColorの左からEnvironmentTextureを選んで、写真を開こう。

### レンダリングしてみよう
- 前回の復習
- 視点を決めて、View - Align View - Align Active Camera to View
- Render Image
- Save

---

### 参考:色んな方法があるモデリング
今回は紹介にとどめるけど、こんな作り方もあるよ。
- Curveで軸を中心とした線を描く
- screwモディファイアで360度ぐるっと回す。


---
---
## やってみようPart2
- 立方体から人型を作ってみよう
- ループカット(Ctrl+R)を使うと、分割できるよ
- 押し出し(E)を使うと、自由に伸ばせる
- 必要に応じてインセット(I)
- 曲面にするにはSubdivisionSurfaceもディアファイアでできる。

---
---

## やってみようPart3
時間がある人は最後にワインを注いでみよう
- ワインの注ぎ口となる球を追加(Wine)
- 計算する範囲のCubeを(WineDomain)
- ワイングラスにFluid追加
  
| 項目      | 値       |
| --------- | -------- |
| Type      | Effector |
| Is Planer | チェック |

- WineにFluid追加

| 項目           | 値     |
| -------------- | ------ |
| Type           | Flow   |
| Flowtype       | Liquid |
| FLow Behaviour | Inflow |

- WineDomainにFluid追加

| 項目                 | 値       |
| -------------------- | -------- |
| Type                 | Domain   |
| DomainType           | Liquid   |
| Mesh                 | チェック |
| Cache - Type         | All      |
| Cache - Is Resumable | チェック |

Materialの色を適当につけてみよう





---
---
## 好きな形を作るには？
- まずは、いろんな人のモデリングを真似しよう
- 一つの形を作るにもいろいろな作り方あるよ
- 曲面を作る時には滑らかにする方法がshade smooth, subdivision surface, と方法があることをしっておこう
- ポリゴン数はなるべく少ない状態で大まかな形からディテイルに作業した方が効率よいよ

## 簡単に人もどきを作りながら慣れてみよう
立方体から人型を作ってみよう



## (おまけ)グラスにワインを注ごう
液体の表現には
1. 流体が出るところ
2. 流体を妨げるもの
3. 計算する範囲
の3つが必要だよ




## Low Poly Character
https://www.youtube.com/watch?v=Ljl_QFs9xhE
https://www.youtube.com/watch?v=Z3vdQj06DGo

## 気をつけること
- ポリゴン数を増やしすぎない
- 減らすリポトロジーという技術もある

## Monster Mash
https://paiza.hatenablog.com/entry/2021/04/07/150000
